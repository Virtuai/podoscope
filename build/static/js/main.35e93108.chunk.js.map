{"version":3,"sources":["assets/plantilla-podoscopio.jpg","utils/requestsManager.js","signIn/SignIn.js","assets/human-shoes-footprints.svg","mainView/UserInfo/UserCard.jsx","mainView/UserInfo/ImageCard/ImageCard.jsx","mainView/UserInfo/ImageSelection.jsx","mainView/Cam/Info/Info.jsx","mainView/Cam/Side/Side.jsx","mainView/Cam/Down/Down.jsx","mainView/Cam/CamCanvas.jsx","mainView/SearchUser.jsx","mainView/LoadingCard.jsx","mainView/UserInfo/Drops/Drops.jsx","mainView/UserInfo/MyObservations.jsx","mainView/ImageModal/ImageModal.jsx","mainView/Menu/Menu.jsx","mainView/MainView.jsx","App.jsx","serviceWorker.js","index.js","assets/defaultImage.png","assets/logo_piesalud.png"],"names":["module","exports","baseUrl","genericGet","url","callback","onError","withSID","finalUrl","sid","localStorage","getItem","fetch","method","then","response","ok","console","log","json","data","rta","type","error","catch","postPodImage","inObj","examCallback","examOnError","imageCallback","imageOnError","imageObj","correctFormat","imgFormat","id","angulo_i","imgData","extra","leftAngle","angulo_d","rightAngle","u_x_d","right","lineX","u_x_i","left","x_i","point","x","x_d","y_i","y","y_d","efp_id","user","eid","traza","JSON","stringify","free","path","imagen","image","imId","examFormat","entryPoint","thi","feet","footprintType","thd","tpi","footType","tpd","tti","heelType","ttd","obs","observations","defaultValue","tp","shoeSize","pid","podoscopeFormat","genericPostUrlParams","e","saveImgURL","body","text","completeUrl","first","prop","SignIn","props","state","username","password","failed","verifyAuth","bind","storedSID","authTrue","obj","str","Object","entries","forEach","prototype","hasOwnProperty","call","push","join","queries","input_type","response_type","rest_data","user_auth","user_name","this","CryptoJS","MD5","toString","application_name","name_value_list","name","value","serializeObject","setItem","setState","key","Container","component","maxWidth","CssBaseline","src","logo","alt","height","Typography","variant","align","TextField","margin","required","fullWidth","label","onChange","target","onKeyDown","onEnter","autoFocus","Button","color","onClick","Component","_extends","assign","i","arguments","length","source","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref","svgRef","title","width","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","DaShoeIcon","SvgIcon","UserCard","attr","icon","withDivider","overrideItem","undefined","ListItem","ListItemAvatar","ListItemText","secondary","Divider","Card","minWidth","CardContent","cedula","List","makeListItem","setShoeSize","parseInt","ImageCard","defaultImage","img","className","cardId","selection","changeSelect","CardMedia","ImageSelection","changeSelection","imgsRefs","React","createRef","selectImage","updateImage","setImageToDefaultImage","caption","Grid","item","xs","r","cardCaption","size","container","spacing","alignItems","makeCaption","makeImageCard","Info","action","setAction","side","angle","onSideChange","checked","threshold","justify","colorValidationAngle","Switch","Side","prevState","Fab","aria-label","direction","makeButton","Down","photo","reset","hasPhoto","takePicture","cancelPicture","click","savePicture","disabled","patientCedula","CamCanvas","canvasRef","videoRef","imgRef","infoRef","downRef","mouseDownUpHandler","updateDimension","rect","getDefaultData","getBoundingClientRect","ctx","getContext","navigator","getMedia","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","video","audio","stream","srcObject","setTimeout","play","window","addEventListener","err","removeEventListener","down","drawState","classList","remove","removeAttribute","add","updateState","drawSide","drawLine","drawPoint","line","clearRect","drawPath","x1","y1","x2","y2","beginPath","moveTo","lineTo","stroke","temp","strokeStyle","setLineDash","sketchLine","fillStyle","arc","Math","PI","fill","p","last","nativeEvent","offsetX","offsetY","freePaint","updateAngle","act","deleteDraws","b","p1","p2","c","sqrt","a","thetaRads","acos","update","round","drawImage","toDataURL","setAttribute","savePhoto","getState","setImg","resetInfo","direcction","Box","onMouseMove","mouseOverHandler","mouseClickHandler","onMouseDown","onMouseUp","onMouseOut","SearchUser","userCedula","loading","sessionExpired","cedulaFound","searchUser","newPatient","patientExam","examID","setUser","setFeetInfo","obsRefReal","setObservation","searchUserImages","exam","tipo_huella_i","tipo_talon_i","tipo_pie_i","tipo_huella_d","tipo_talon_d","tipo_pie_d","observaciones","talla_plantillas","setMainViewState","rawImageString","strLength","index","imID","substring","im","currentSessionID","setImageInMainView","selectImageRef","setImageToDefault","imObject","getImageAndID","imageData","parse","replace","toggleModal","nombre","apellidos","cellphone","celular","email","dob","nacimiento","sex","genero","searchUserExam","logout","gutterBottom","CardActions","CircularProgress","logOut","renderedComponent","renderLogout","renderLoading","renderSearchCard","LoadingCard","renderText","Drops","drops","nValue","feetInfo","options","FormControl","InputLabel","Select","map","MenuItem","makeDropdown","MyObservations","userObs","newobs","noValidate","autoComplete","multiline","rows","inputRef","obsRef","ImageModal","InfoImage","Menu","toggleDrawer","open","event","Drawer","onClose","ArrowBack","role","setThreshold","select","onFocus","button","ListItemIcon","ExitToApp","primary","MainView","imageselRef","shoeRef","dropsRef","openImage","savingImage","th","nth","toogleImageModal","imageIndex","images","imIndex","newShoeSize","newUser","current","prev","Modal","aria-labelledby","aria-describedby","closeAfterTransition","disableEnforceFocus","disableAutoFocus","BackdropComponent","Backdrop","BackdropProps","timeout","DialogContent","Fade","in","App","authenticated","setAuthenticated","auth","minHeight","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.35e93108.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/plantilla-podoscopio.db191954.jpg\";","export const baseUrl = 'https://podosys.piesalud.com';\n\nfunction userFormat(user) {\n  let userToSend = {\n    first_name: user.firstName,\n    second_name: user.secondName,\n    first_surname: user.firstSurname,\n    second_surname: user.secondSurname,\n    cedula: user.cedula,\n    email: user.email,\n    gender: user.sex,\n    dob: user.selectedDate,\n    cellphone: user.phoneNumber\n  };\n  return userToSend;\n}\n\nfunction podoscopeFormat(inObj) {\n  let formatedOutput = {\n\n    imgFormat: {\n\n      sid: localStorage.getItem('sid'),\n      id: '',\n      angulo_i: inObj.imgData.extra.leftAngle || null,\n      angulo_d: inObj.imgData.extra.rightAngle || null,\n      // save image id after @. Doesnt interfere with base64 encoding\n      u_x_d: inObj.imgData.data.right.lineX || null,\n      u_x_i: inObj.imgData.data.left.lineX || null,\n      x_i: inObj.imgData.data.left.point ? inObj.imgData.data.left.point.x : null,\n      x_d: inObj.imgData.data.right.point ? inObj.imgData.data.right.point.x : null,\n      y_i: inObj.imgData.data.left.point ? inObj.imgData.data.left.point.y : null,\n      y_d: inObj.imgData.data.right.point ? inObj.imgData.data.right.point.y : null,\n      efp_id: inObj.user.eid,\n      traza: JSON.stringify(inObj.imgData.data.free.path),\n      imagen: inObj.imgData.image + '@' + inObj.imId,\n\n    },\n\n    examFormat: {\n\n      entryPoint: 'save_efp',\n      sid: localStorage.getItem('sid'),\n      thi: inObj.feet.left.footprintType,\n      thd: inObj.feet.right.footprintType,\n      tpi: inObj.feet.left.footType,\n      tpd: inObj.feet.right.footType,\n      tti: inObj.feet.left.heelType,\n      ttd: inObj.feet.right.heelType,\n      obs: inObj.observations.defaultValue,\n      tp: inObj.shoeSize,\n      pid: inObj.user.pid,\n      id: inObj.user.eid // exam id\n\n    }\n\n\n  };\n  return formatedOutput;\n}\n\nfunction genericPost(inObj, callback, onError, objFormat, endpoint) {\n  let outObj = objFormat(inObj);\n\n  fetch(endpoint, {\n    method: 'post',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(outObj)\n  })\n    .then(response => {\n      if (!response.ok) {\n        console.log('ERROR could not make post request.');\n        onError();\n      }\n    })\n    .then(() => callback())\n    .catch(error => { onError(); console.log(error); });\n}\n\nexport function genericGet(url, callback, onError, withSID = true) {\n  let finalUrl = url;\n  if (withSID) {\n    const sid = localStorage.getItem('sid');\n    finalUrl = `${url}&sid=${sid}`;\n  }\n\n  fetch(finalUrl, { method: 'GET' })\n    .then(response => {\n      if (!response.ok) {\n        console.log('ERROR could not make get request.');\n        onError();\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.rta === 'La sesion es invalida , por favor verificar credenciales') {\n        onError({ type: 'session_expired', error: data.rta });\n      } else {\n        callback(data);\n      }\n    })\n    .catch(error => {\n      onError({ type: 'fetch', error });\n    });\n}\n\nexport function postUser(user, callback, onError) {\n  genericPost(user, callback, onError, userFormat, '/users');\n}\n\nexport function postPodImage(inObj, examCallback, examOnError,imageCallback,imageOnError) {\n  // genericPost(inObj, callback, onError, podoscopeFormat, '/podoscope');\n\n  let correctFormat = podoscopeFormat(inObj);\n\n  //exam stuff\n  console.log('saving exam...')\n  genericPostUrlParams(baseUrl + '/index.php',\n    correctFormat.examFormat,\n    (data) => {\n      console.log('Sucessfully updated exam');\n      console.log(data);\n      examCallback(data);\n    },\n    (e) => {\n      examOnError(e);\n    });\n\n  //image stuff\n\n  console.log('saving image...')\n  saveImage(correctFormat.imgFormat, \n    (data) => { \n      imageCallback(data);\n    }, \n    (e) => {\n      imageOnError(e);\n     })\n\n\n  // console.log(correctFormat.imgFormat.imagen);\n  // genericPostUrlParams(baseUrl + '/index.php',\n  //   correctFormat.imgFormat,\n  //   (data) => {\n  //     console.log('Sucessfully saved image');\n  //     console.log(data);\n  //     callback(data);\n  //   },\n  //   (e) => {\n  //     onError(e);\n  //   });\n}\n\nfunction saveImage(imageObj, callback, onError) {\n  let saveImgURL = baseUrl;\n  saveImgURL += '/index.php?entryPoint=save_img';\n\n  console.log('sending body to save image: ', JSON.stringify(imageObj))\n\n  fetch(saveImgURL, {\n    method: 'POST',\n    body: JSON.stringify(imageObj)\n  })\n    .then((response) => {\n      console.log('create image response:');\n      console.log(response);\n      return response.text();\n    })\n    .then(data => {\n      if (data.rta === 'La sesion es invalida , por favor verificar credenciales') {\n        onError({ type: 'session_expired', error: data.rta });\n      } else {\n        console.log('Succesfully saved image: ')\n        console.log(data);\n        callback(data);\n      }\n    })\n    .catch((error) => {\n      onError({ type: 'fetch', error });\n    });\n\n}\n\nexport function genericPostUrlParams(baseUrl, inObj, callback, onError) {\n  let completeUrl = baseUrl + '?';\n\n  let first = true;\n  for (const prop in inObj) {\n    if (!first) {\n      completeUrl += '&';\n    }\n\n    completeUrl += prop + '=' + inObj[prop];\n    first = false;\n  }\n\n  // console.log('the complete post url:',completeUrl);\n\n  fetch(completeUrl, {\n    method: 'POST',\n  })\n    .then((response) => response.text())\n    .then(data => {\n      if (data.rta === 'La sesion es invalida , por favor verificar credenciales') {\n        onError({ type: 'session_expired', error: data.rta });\n      } else {\n        callback(data);\n      }\n    })\n    .catch((error) => {\n      onError({ type: 'fetch', error });\n    });\n\n}","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport CryptoJS from 'crypto-js';\n\nimport PropTypes from 'prop-types';\nimport { baseUrl, genericGet } from '../utils/requestsManager';\n\nimport logo from '../assets/logo_piesalud.png';\n\nexport default class SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { username: '', password: '', failed: false };\n    this.verifyAuth = this.verifyAuth.bind(this);\n\n    const storedSID = localStorage.getItem('sid');\n    if (storedSID && storedSID !== 'undefined') {\n      this.props.authTrue(true);\n    }\n  }\n\n  serializeObject(obj) {\n    const str = [];\n    Object.entries(obj).forEach(e => {\n      if (Object.prototype.hasOwnProperty.call(obj, e[0])) {\n        if (typeof e[1] === 'object') {\n          str.push((e[0]) + '=' + JSON.stringify(e[1]));\n        } else {\n          str.push((e[0]) + '=' + (e[1]));\n        }\n      }\n    });\n\n    return str.join('&');\n  }\n\n  verifyAuth() {\n    const host = baseUrl + '/service/v2/rest.php';\n    const queries = {\n      method: 'login',\n      input_type: 'JSON',\n      response_type: 'JSON',\n      rest_data: {\n        user_auth: {\n          user_name: this.state.username,\n          password: CryptoJS.MD5(this.state.password).toString()\n        },\n        application_name: '',\n        name_value_list: [{\n          name: 'notifyonsave',\n          value: 'true'\n        }]\n      }\n    };\n\n    const endpoint = `${host}?${this.serializeObject(queries)}`;\n    genericGet(endpoint, (data) => {\n      if (data.id) {\n        localStorage.setItem('sid', data.id);\n        this.props.authTrue(true);\n      } else {\n        this.setState({ failed: true });\n      }\n    }, () => {\n      this.setState({ username: '', password: '', failed: true });\n    }, false);\n  }\n\n  onEnter(e) {\n    if (e.key === 'Enter') {\n      this.verifyAuth();\n    }\n  }\n\n  render() {\n    return (\n      <Container component='main' maxWidth='xs'>\n        <CssBaseline />\n        <div>\n          \n          <img src={logo} alt=\"logo piesalud\" height={'150px'} />\n\n          <Typography component='h1' variant='h5' align='center'>\n            Sign in\n          </Typography>\n          <TextField\n            variant='outlined'\n            margin='normal'\n            required\n            fullWidth\n            id='username'\n            label='User name'\n            name='username'\n            // autoComplete='email'\n            value={this.state.username}\n            onChange={(x) => this.setState({ username: x.target.value })}\n            onKeyDown={this.onEnter.bind(this)}\n            autoFocus\n          />\n          <TextField\n            variant='outlined'\n            margin='normal'\n            required\n            fullWidth\n            name='password'\n            label='Password'\n            type='password'\n            id='password'\n            value={this.state.password}\n            onChange={(x) => this.setState({ password: x.target.value })}\n            onKeyDown={this.onEnter.bind(this)}\n          // autoComplete='current-password'\n          />\n          <Button\n            fullWidth\n            variant='contained'\n            color='primary'\n            onClick={this.verifyAuth}>\n            Sign In\n          </Button>\n          <br />\n          <br />\n          {this.state.failed ?\n            <Typography color='error' align='center'>\n              Incorrect username or password, please try again\n            </Typography> :\n            <br />\n          }\n        </div>\n        <Typography variant='body2' color='textSecondary' align='center'>\n          Icons made by Freepik from https://www.flaticon.com\n        </Typography>\n      </Container>);\n  }\n}\n\nSignIn.propTypes = {\n  authTrue: PropTypes.func.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.626,50.494c-2.461,0-4.859,0.253-7.206,0.652c-0.163,4.019-0.183,9.874,1.743,12.148 c2.712,3.203,8.699,3.203,11.106-0.444c2.387-3.62,0.804-8.826,0.136-11.924C22.508,50.674,20.591,50.494,18.626,50.494z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.182,14.017C13.978,14.236,7.7,28.76,9.378,36.207c0.604,2.669,2.191,8.176,2.191,11.388 c0,0.39-0.03,0.999-0.065,1.735c2.327-0.374,4.694-0.622,7.124-0.622c1.858,0,3.68,0.15,5.478,0.369 c-0.178-1.738-0.229-4.428,0.386-7.179c0.829-3.721,2.569-7.591,3.284-9.562C29.233,28.324,26.386,13.797,20.182,14.017z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M47.016,37.062c-2.01,0-3.972,0.188-5.906,0.452c-0.718,3.144-1.971,7.934,0.263,11.32 c2.406,3.647,8.395,3.647,11.106,0.445c1.832-2.165,1.902-7.582,1.766-11.565C51.891,37.318,49.484,37.062,47.016,37.062z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M45.46,0.002c-6.205-0.22-9.052,14.307-7.592,18.321c0.717,1.969,2.455,5.842,3.283,9.563 c0.687,3.076,0.545,6.098,0.319,7.77c1.82-0.226,3.661-0.381,5.545-0.381c2.44,0,4.815,0.249,7.151,0.628 c-0.048-1.009-0.094-1.832-0.094-2.324c0-3.212,1.588-8.719,2.192-11.388C57.942,14.748,51.663,0.221,45.46,0.002z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgHumanShoesFootprints = function SvgHumanShoesFootprints(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"65.644px\",\n    height: \"65.645px\",\n    viewBox: \"0 0 65.644 65.645\",\n    style: {\n      enableBackground: \"new 0 0 65.644 65.645\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHumanShoesFootprints, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/human-shoes-footprints.61dee20a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport CakeIcon from '@material-ui/icons/Cake';\nimport WcIcon from '@material-ui/icons/Wc';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport TextField from '@material-ui/core/TextField';\n\nimport { ReactComponent as ShoeIcon } from '../../assets/human-shoes-footprints.svg';\n\nfunction DaShoeIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <ShoeIcon />\n    </SvgIcon>\n  );\n}\n\nexport default class UserCard extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { shoeSize: 40 };\n  }\n\n  makeListItem(attr, icon, withDivider = true, overrideItem = undefined) {\n    return (\n      <>\n        <ListItem>\n          <ListItemAvatar>\n            {icon}\n          </ListItemAvatar>\n          {overrideItem || <ListItemText secondary={this.props.user[attr]} />}\n        </ListItem>\n        {withDivider && <Divider variant=\"inset\" component=\"li\" />}\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <Card style={{ minWidth: 400 }}>\n        <CardContent>\n          <Typography variant=\"h5\" component=\"h2\" align='center' style={{ maxWidth: 400 }}>\n            {this.props.user.name}\n          </Typography>\n          <Typography variant='body2' align='center'>\n            CC {this.props.user.cedula}\n          </Typography>\n          <List>\n            {this.makeListItem('cellphone', <PhoneIcon color='primary' />)}\n            {this.makeListItem('email', <MailOutlineIcon color='primary' />)}\n            {this.makeListItem('dob', <CakeIcon color='primary' />)}\n            {this.makeListItem('sex', <WcIcon color='primary' />)}\n            {this.makeListItem('sex', <DaShoeIcon color='primary' viewBox='0 0 65 65' />, false, (\n              <TextField\n                value={this.props.shoeSize}\n                onChange={(x) => this.props.setShoeSize(parseInt(x.target.value))}\n                type=\"number\"\n                margin=\"dense\"\n              />\n            )\n            )}\n          </List>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\n\nUserCard.propTypes = {\n  user: PropTypes.object.isRequired,\n  setShoeSize: PropTypes.func,\n  shoeSize: PropTypes.number\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './ImageCard.css';\n\nimport { Card, CardMedia } from '@material-ui/core';\n\nimport defaultImage from '../../../assets/defaultImage.png';\n\nexport default class ImageCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      image: defaultImage\n    };\n  }\n\n  updateImage(img) {\n    this.setState({ image: img });\n  }\n\n  setImageToDefaultImage(){\n    console.log(`Inside the image ref itself`)\n    this.setState({image: defaultImage});\n  }\n\n  render() {\n    return (\n      <Card\n        className={this.props.cardId === this.props.selection ? 'selected' : null}\n        onClick={() => this.props.changeSelect(this.props.cardId)}>\n        <CardMedia\n          style={{ height: 50 }}\n          image={this.state.image}\n        />\n      </Card>\n    );\n  }\n}\n\nImageCard.propTypes = {\n  cardId: PropTypes.number.isRequired,\n  selection: PropTypes.number.isRequired,\n  changeSelect: PropTypes.func.isRequired\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Grid, Typography } from '@material-ui/core';\n\nimport ImageCard from './ImageCard/ImageCard';\n\nexport default class ImageSelection extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { selection: -1 };\n    this.changeSelection = this.changeSelection.bind(this);\n\n    this.imgsRefs = [\n      React.createRef(), React.createRef(), React.createRef(),\n      React.createRef(), React.createRef(), React.createRef()\n    ];\n  }\n\n  changeSelection(id) {\n    this.setState({ selection: id },\n      () => {\n        this.props.selectImage(id);\n      });\n  }\n\n  updateImage(i, img) {\n    this.imgsRefs[i].updateImage(img);\n  }\n  \n  setImageToDefault(i){\n    console.log(`In selection ref, setting image ${i} to default.`)\n    this.imgsRefs[i].setImageToDefaultImage();\n  }\n\n  makeImageCard(cardId, caption) {\n    return (\n      <Grid item xs={3}>\n        <ImageCard\n          ref={r => this.imgsRefs[cardId] = r}\n          changeSelect={this.changeSelection}\n          cardId={cardId}\n          selection={this.state.selection}\n          cardCaption={caption} />\n      </Grid>\n    );\n  }\n\n  makeCaption(caption, variant = 'body2', size = 3, align = 'center') {\n    return (\n      <Grid item xs={size}>\n        <Typography align={align} variant={variant}>\n          {caption}\n        </Typography>\n      </Grid>\n    );\n  }\n\n  render() {\n    return (\n      <Grid container spacing={2} alignItems='center'>\n        <>\n          {this.makeCaption('Back', 'subtitle1', 2)}\n\n          {this.makeImageCard(0, 'Standing Up')}\n          {this.makeImageCard(1, '45 °')}\n          {this.makeImageCard(2, 'Toes up')}\n\n          <Grid item xs={2} />\n          \n          {this.makeCaption('Standing Up')}\n          {this.makeCaption('45 °')}\n          {this.makeCaption('Toes up')}\n        </>\n        <>\n          {this.makeCaption('Front', 'subtitle1', 2)}\n\n          {this.makeImageCard(3, 'Chaplin')}\n          {this.makeImageCard(4, 'Chaplin Toes Up')}\n          {this.makeImageCard(5, 'With Insoles')}\n\n          <Grid item xs={2} />\n\n          {this.makeCaption('Chaplin')}\n          {this.makeCaption(<>Chaplin<br />Toes Up</>)}\n          {this.makeCaption('With Insoles')}\n        </>\n      </Grid>\n    );\n  }\n}\n\nImageSelection.propTypes = {\n  selectImage: PropTypes.func.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Typography, Grid, Switch } from '@material-ui/core';\n\n\nexport default class Info extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      leftAngle: undefined,\n      rightAngle: undefined,\n      action: false\n    };\n\n    this.setAction = this.setAction.bind(this);\n  }\n\n  update(side, angle) {\n    if (side === 0) {\n      this.setState({ leftAngle: angle });\n    } else {\n      this.setState({ rightAngle: angle });\n    }\n  }\n\n  getState() {\n    const data = {};\n    data.leftAngle = this.state.leftAngle;\n    data.rightAngle = this.state.rightAngle;\n    return data;\n  }\n\n  updateState(data) {\n    this.setState({\n      leftAngle: data && (data.leftAngle || (data.left && data.left.angle)),\n      rightAngle: data && (data.rightAngle || (data.right && data.right.angle)),\n      action: false\n    });\n  }\n\n  setAction(e) {\n    this.props.onSideChange(e.target.checked);\n    this.setState({ action: e.target.checked });\n  }\n\n  resetInfo() {\n    this.setState({\n      leftAngle: undefined,\n      rightAngle: undefined,\n      action: false\n    });\n  }\n\n  colorValidationAngle( value) {\n    const diff = this.props.threshold.value - value;\n    return diff < 0 ? 'error' : 'inherit';\n  }\n\n  render() {\n    return (\n      <Grid container className=\"switch-container\" alignItems='center' justify='center'>\n        <Grid item xs={4} >\n          <Typography color={this.colorValidationAngle(this.state.leftAngle)} align='center' >\n            {this.state.leftAngle || '-'}°\n          </Typography>\n          <Typography align='center' variant=\"h5\" component=\"h3\">\n            Left\n          </Typography>\n        </Grid>\n\n        <Grid item>\n          <Switch color=\"primary\" onChange={this.setAction} checked={this.state.action} />\n        </Grid>\n\n        <Grid item xs={4}>\n          <Typography color={this.colorValidationAngle(this.state.rightAngle)} align='center'>\n            {this.state.rightAngle || '-'}°\n          </Typography>\n          <Typography align='center' variant=\"h5\" component=\"h3\">\n            Right\n          </Typography>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nInfo.propTypes = {\n  onSideChange: PropTypes.func.isRequired,\n  threshold: PropTypes.object.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Grid, Fab } from '@material-ui/core';\nimport CreateIcon from '@material-ui/icons/Create';\nimport UndoIcon from '@material-ui/icons/Undo';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nexport default class Side extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      action: 0\n    };\n    this.setAction = this.setAction.bind(this);\n  }\n\n  setAction(action) {\n    return () => {\n      this.setState(\n        prevState => ({\n          action: prevState.action === action ? 0 : action\n        }),\n        () => {\n          this.props.setAction(action);\n          if (action === 4) {\n            this.setState({ action: 0 });\n          }\n        });\n    };\n  }\n\n  makeButton(action, icon, alt) {\n    return (\n      <Grid item xs={3}>\n        <Fab\n          variant=\"extended\"\n          color={(this.state.action === action ? 'secondary' : 'primary')}\n          aria-label={alt}\n          className={'cam-btn'}\n          onClick={this.setAction(action)}>\n          {icon}\n        </Fab>\n      </Grid>\n    );\n  }\n\n  render() {\n    return (\n      <Grid container direction=\"column\" className=\"cam-btn-container\">\n        {this.makeButton(1, <MoreVertIcon />, 'Draw line')}\n        {this.makeButton(2, <FiberManualRecordIcon />, 'Draw point')}\n        {this.makeButton(3, <CreateIcon />, 'Draw')}\n        {this.makeButton(4, <UndoIcon />, 'Undo draw')}\n      </Grid>\n    );\n  }\n}\n\nSide.propTypes = {\n  setAction: PropTypes.func.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Fab } from '@material-ui/core';\nimport CameraAltIcon from '@material-ui/icons/CameraAlt';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport SaveIcon from '@material-ui/icons/Save';\n\nexport default class Down extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      photo: undefined\n    };\n    this.reset = this.reset.bind(this);\n  }\n\n  updateButtons(action) {\n    this.setState({ hasPhoto: action });\n  }\n\n  click(action) {\n    return () => {\n      action ? this.props.takePicture() : this.props.cancelPicture();\n      this.setState({ photo: action });\n    };\n  }\n\n  reset(hasPhoto) {\n    this.setState({ photo: hasPhoto });\n  }\n\n  render() {\n    return (\n      <>\n        {!this.state.photo\n          ? <Fab\n            variant=\"extended\"\n            color=\"secondary\"\n            aria-label=\"take picture\"\n            onClick={this.click(true)}>\n            <CameraAltIcon />\n          </Fab>\n          : (<>\n            <Fab\n              variant=\"extended\"\n              color=\"secondary\"\n              aria-label=\"cancel\"\n              onClick={this.click(false)}>\n              <ClearIcon />\n            </Fab>\n            <Fab\n              variant=\"extended\"\n              color=\"primary\"\n              aria-label=\"save\"\n              onClick={this.props.savePicture}\n              disabled={this.props.patientCedula === '-'}>\n              <SaveIcon />\n            </Fab>\n          </>)\n        }\n      </>\n    );\n  }\n}\n\nDown.propTypes = {\n  takePicture: PropTypes.func.isRequired,\n  cancelPicture: PropTypes.func.isRequired,\n  savePicture: PropTypes.func.isRequired,\n  patientCedula: PropTypes.string.isRequired\n\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid, Box } from '@material-ui/core';\nimport Info from './Info/Info';\nimport Side from './Side/Side';\nimport Down from './Down/Down';\nimport './CamCanvas.css';\n\nconst tempColor = 'red';\nconst tempPColor = 'yellow';\nconst defColor = 'cyan';\nconst freeColor = 'blue';\n\nexport default class CamCanvas extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.canvasRef = React.createRef();\n    this.videoRef = React.createRef();\n    this.imgRef = React.createRef();\n    this.infoRef = React.createRef();\n    this.downRef = React.createRef();\n\n    this.setAction = this.setAction.bind(this);\n    this.mouseDownUpHandler = this.mouseDownUpHandler.bind(this);\n    this.takePicture = this.takePicture.bind(this);\n    this.cancelPicture = this.cancelPicture.bind(this);\n    this.savePicture = this.savePicture.bind(this);\n    this.updateDimension = this.updateDimension.bind(this);\n\n    this.action = 0;\n    this.rect = undefined;\n    this.data = this.getDefaultData();\n    this.side = this.data.left;\n  }\n\n  componentDidMount() {\n    this.rect = this.canvasRef.getBoundingClientRect();\n    this.videoRef.width = this.rect.width;\n    this.rect = this.videoRef.getBoundingClientRect();\n    this.ctx = this.canvasRef.getContext('2d');\n\n    navigator.getMedia = (navigator.getUserMedia ||\n      navigator.webkitGetUserMedia ||\n      navigator.mozGetUserMedia ||\n      navigator.msGetUserMedia);\n\n\n    navigator.getMedia({ video: true, audio: false },\n      (stream) => {\n        this.videoRef.srcObject = stream;\n\n        setTimeout(() => {\n          this.videoRef.play();\n          this.updateDimension();\n          window.addEventListener('resize', this.updateDimension);\n        }, 500);\n      },\n      (err) => console.log('An error occured! ' + err));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateDimension);\n  }\n\n  getDefaultData() {\n    return {\n      left: {\n        lineX: undefined,\n        point: undefined\n      },\n      right: {\n        lineX: undefined,\n        point: undefined\n      },\n      free: {\n        down: false,\n        path: [[]]\n      },\n      extra: {\n        left: { angle: undefined },\n        right: { angle: undefined }\n      }\n    };\n  }\n\n  updateDimension() {\n    this.rect = this.videoRef.getBoundingClientRect();\n    this.canvasRef.height = this.rect.height;\n    this.canvasRef.width = this.rect.width;\n    this.imgRef.height = this.rect.height;\n    this.imgRef.width = this.rect.width;\n    this.drawState();\n  }\n\n  setImg(data) {\n    if (data.image) {\n      this.imgRef.classList.remove('hidden');\n      this.imgRef.src = data.image;\n    } else {\n      this.imgRef.removeAttribute('src');\n      this.imgRef.classList.add('hidden');\n    }\n    this.data = data.data || this.getDefaultData();\n\n    this.downRef.reset(!!data.image);\n\n    this.side = this.data.left;\n    this.infoRef.updateState(data.extra);\n    this.drawState();\n  }\n\n  // draws lines and points of both feet and draws path\n  drawState() {\n    const drawSide = (side) => {\n      if (side.lineX) {\n        this.drawLine(side.lineX, false, side.point);\n      }\n      if (side.point) {\n        this.drawPoint(side.point.x, side.point.y, false, side.line);\n      }\n    };\n\n    this.ctx.clearRect(0, 0, this.rect.width + 20, this.rect.height + 20);\n    this.drawPath();\n    drawSide(this.data.left);\n    drawSide(this.data.right);\n  }\n\n  sketchLine(x1, y1, x2, y2) {\n    this.ctx.beginPath();\n    this.ctx.moveTo(x1, y1);\n    this.ctx.lineTo(x2, y2);\n    this.ctx.stroke();\n  }\n\n  drawLine(x, temp, point) {\n    this.ctx.strokeStyle = temp ? tempColor : defColor;\n    if (temp) {\n      this.ctx.setLineDash([5, 3]);\n    } else {\n      this.ctx.setLineDash([1, 0]);\n    }\n    //+20 to avoid white space just before border of canvas\n    this.sketchLine(x, 0, x, this.rect.height + 20);\n\n    if (point) {\n      if (temp) {\n        this.ctx.setLineDash([5, 3]);\n      }\n      this.sketchLine(point.x, point.y, x, 0);\n      this.sketchLine(point.x, point.y, x, this.canvasRef.height);\n    }\n  }\n\n  drawPoint(x, y, temp, lineX) {\n    this.ctx.strokeStyle = temp ? tempColor : defColor;\n    this.ctx.fillStyle = temp ? tempPColor : defColor;\n    this.ctx.beginPath();\n    this.ctx.arc(x, y, 5, 0, 2 * Math.PI);\n    this.ctx.fill();\n\n    if (lineX) {\n      if (temp) {\n        this.ctx.setLineDash([5, 3]);\n      }\n      this.sketchLine(x, y, lineX, 0);\n      this.sketchLine(x, y, lineX, this.canvasRef.height);\n    }\n  }\n\n  freePaint(x, y) {\n    if (this.data.free.down) {\n      this.ctx.strokeStyle = freeColor;\n      this.sketchLine(\n        this.data.free.path[this.data.free.path.length - 1].x,\n        this.data.free.path[this.data.free.path.length - 1].y,\n        x, y);\n      this.data.free.path[this.data.free.path.length - 1].push({ x, y });\n    }\n  }\n\n  deleteDraws() {\n    this.data.free.path = [[]];\n    this.data.left.lineX = undefined;\n    this.data.left.point = undefined;\n    this.data.right.lineX = undefined;\n    this.data.right.point = undefined;\n    this.drawState();\n  }\n\n  drawPath() {\n    this.ctx.setLineDash([1, 0]);\n    this.ctx.strokeStyle = freeColor;\n\n    this.data.free.path.forEach(p => {\n      let last = undefined;\n      p.forEach(({ x, y }) => {\n        if (last) {\n          this.sketchLine(last.x, last.y, x, y);\n        }\n        last = { x, y };\n      });\n    });\n  }\n\n  mouseOverHandler(e) {\n    const x = e.nativeEvent.offsetX;\n    const y = e.nativeEvent.offsetY;\n\n    this.drawState();\n    switch (this.action) {\n      case 1:\n        this.drawLine(x, true, this.side.point);\n        break;\n      case 2:\n        this.drawPoint(x, y, true, this.side.lineX);\n        break;\n      case 3:\n        this.freePaint(x, y);\n        break;\n      default:\n        break;\n    }\n  }\n\n  mouseClickHandler(e) {\n    const x = e.nativeEvent.offsetX;\n    const y = e.nativeEvent.offsetY;\n\n    switch (this.action) {\n      case 1:\n        this.side.lineX = x;\n        break;\n      case 2:\n        this.side.point = { x, y };\n        break;\n      default:\n        break;\n    }\n    if (this.action === 1 || this.action === 2) {\n      this.drawState();\n      this.updateAngle();\n    }\n  }\n\n  mouseDownUpHandler(act) {\n    return (e) => {\n      const x = e.nativeEvent.offsetX;\n      const y = e.nativeEvent.offsetY;\n\n      if (this.action === 3) {\n        if (act) {\n          this.data.free.path[this.data.free.path.length - 1].push({ x, y });\n        } else {\n          this.data.free.path.push([]);\n        }\n        this.data.free.down = act;\n      }\n    };\n  }\n\n  setAction(action) {\n    if (action === 4) {\n      this.deleteDraws();\n      this.action = 0;\n    } else {\n      this.action = (this.action === action ? 0 : action);\n    }\n  }\n\n  updateAngle() {\n    if (this.side.lineX && this.side.point) {\n      const b = this.canvasRef.height;\n      const p1 = { x: this.side.lineX, y: b };\n      const p2 = { x: this.side.point.x, y: this.side.point.y };\n\n      const c = Math.sqrt((p1.x - p2.x) ** 2 + (p2.y) ** 2);\n      const a = Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2);\n\n      const thetaRads = Math.acos(((a ** 2) + (b ** 2) - (c ** 2)) / (2 * a * b));\n\n      this.infoRef.update(this.side === this.data.left ? 0 : 1, Math.round((thetaRads * 180 / Math.PI) * 100) / 100);\n    }\n  }\n\n  onSideChange(side) {\n    if (side) {\n      this.side = this.data.right;\n    } else {\n      this.side = this.data.left;\n    }\n  }\n\n  takePicture() {\n    this.ctx.clearRect(0, 0, this.rect.width + 20, this.rect.height + 20);\n    this.ctx.drawImage(this.videoRef, 0, 0, this.rect.width, this.rect.height);\n    const imgData = this.canvasRef.toDataURL('image/png');\n    \n    this.imgRef.setAttribute('src', imgData);\n    this.imgRef.classList.remove('hidden');\n    this.drawState();\n  }\n\n  cancelPicture() {\n    this.imgRef.removeAttribute('src');\n    this.imgRef.classList.add('hidden');\n  }\n\n  savePicture() {\n    this.props.savePhoto({\n      image: this.imgRef.src,\n      data: {\n        left: {\n          point: this.data.left.point,\n          lineX: this.data.left.lineX\n        },\n        right: {\n          point: this.data.right.point,\n          lineX: this.data.right.lineX\n        },\n        free: {\n          path: this.data.free.path\n        }\n      },\n      extra: this.infoRef.getState()\n    });\n  }\n\n  resetInfo() {\n    this.action = 0;\n    this.data = this.getDefaultData();\n    this.side = this.data.left;\n\n    this.drawState();\n    this.setImg({ image: null });\n    this.infoRef.resetInfo();\n    this.downRef.reset(false);\n  }\n\n  render() {\n    return (\n      <Grid container direction=\"column\">\n        <Grid item xs={11}>\n          <Info ref={r => this.infoRef = r} onSideChange={this.onSideChange.bind(this)} threshold={this.props.threshold} />\n        </Grid >\n        <Grid item>\n          <Grid container direcction=\"row\">\n            <Grid item xs={11} id=\"canvas-video-container\">\n              <Box\n                component=\"img\"\n                ref={r => this.imgRef = r}\n                className='hidden' />\n              <Box\n                component=\"video\"\n                ref={r => this.videoRef = r} />\n              <Box\n                component=\"canvas\"\n                ref={r => this.canvasRef = r}\n                onMouseMove={this.mouseOverHandler.bind(this)}\n                onClick={this.mouseClickHandler.bind(this)}\n                onMouseDown={this.mouseDownUpHandler(true)}\n                onMouseUp={this.mouseDownUpHandler(false)}\n                onMouseOut={this.drawState.bind(this)} />\n            </Grid>\n            <Grid item xs={1}>\n              <Side setAction={this.setAction} />\n            </Grid>\n          </Grid>\n          <Grid container item direcction=\"row\" xs={11} id=\"bottom-container\">\n            <Down\n              takePicture={this.takePicture}\n              cancelPicture={this.cancelPicture}\n              savePicture={this.savePicture}\n              patientCedula={this.props.patientCedula}\n              ref={r => this.downRef = r} />\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nCamCanvas.propTypes = {\n  savePhoto: PropTypes.func.isRequired,\n  patientCedula: PropTypes.string.isRequired,\n  threshold: PropTypes.object.isRequired\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport SearchIcon from '@material-ui/icons/Search';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { baseUrl, genericGet, genericPostUrlParams } from '../utils/requestsManager';\n\nexport default class SearchUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userCedula: '',\n      loading: false,\n      sessionExpired: false,\n    };\n    this.cedulaFound = true;\n    this.searchUser = this.searchUser.bind(this);\n    this.onEnter = this.onEnter.bind(this);\n  }\n\n  setMainViewState(newPatient,patientExam){\n    const examID = patientExam.eid;\n    newPatient.eid = examID;\n\n    this.props.setUser(newPatient);\n\n    // set feet state in main view\n    this.props.setFeetInfo(patientExam.feet);\n    \n    // set shoe size state in main view\n    this.props.obsRefReal.setObservation(patientExam.observations);\n\n    // set obs state in main view\n    this.props.setShoeSize(parseInt(patientExam.shoeSize));\n    \n    //TODO search images\n    this.searchUserImages(examID);\n    \n    // this.props.toggleModal();\n    \n\n  }\n\n  searchUserExam(pid, sid, newPatient) {\n\n\n\n    genericGet(\n      baseUrl + '/index.php?sid=' + sid + '&entryPoint=list_efp&pid=' + pid,\n      (data) => {\n        console.log('Obtained patient exams:', data);\n        let patientExam;\n        if (data.rta.length > 0) {\n          // user has exams\n\n          //get first and only exam\n          const exam = data.rta[0];\n          console.log('Using exam:', exam);\n          patientExam = {\n            eid: exam.id,\n            feet: {\n              left: {\n                footprintType: exam.tipo_huella_i,\n                heelType: exam.tipo_talon_i,\n                footType: exam.tipo_pie_i\n              },\n              right: {\n                footprintType: exam.tipo_huella_d,\n                heelType: exam.tipo_talon_d,\n                footType: exam.tipo_pie_d\n              }\n            },\n            observations: exam.observaciones,\n            shoeSize: exam.talla_plantillas\n\n          };\n\n\n          this.setMainViewState(newPatient,patientExam);\n        }\n        else {\n          // user does not have an exam.\n          const defaultType = 'NEUTRO';\n          const defaultObs = '';\n          const defaultShoesize = 40;\n          //create exam\n          genericPostUrlParams(baseUrl + '/index.php',\n            {\n              entryPoint: 'save_efp',\n              sid: sid,\n              thi: defaultType,\n              thd: defaultType,\n              tpi: defaultType,\n              tpd: defaultType,\n              tti: defaultType,\n              ttd: defaultType,\n              obs: defaultObs,\n              tp: defaultShoesize,\n              pid: pid\n            },\n            (data) => {\n              console.log('Sucessfully created exam for patient ', newPatient.cedula);\n              console.log(data);\n\n              //success, eid in data.rta\n              patientExam = {\n                eid: data.rta,\n                feet: {\n                  left: {\n                    footprintType: defaultType,\n                    heelType: defaultType,\n                    footType: defaultType\n                  },\n                  right: {\n                    footprintType: defaultType,\n                    heelType: defaultType,\n                    footType: defaultType\n                  }\n                },\n                observations: defaultObs,\n                shoeSize: defaultShoesize\n\n              };\n\n              this.setMainViewState(newPatient,patientExam);\n\n            },\n            (e) => {\n              if (e.type === 'fetch') {\n                console.log('Failed to fetch');\n                // TODO snackbar try again later\n              } else if (e.type === 'session_expired') {\n                console.log('Session Expired');\n                // TODO modal for relogin\n                this.setState({sessionExpired: true});\n              }\n            });\n        }\n\n\n      },\n      (e) => {\n        if (e.type === 'fetch') {\n          console.log('Failed to fetch');\n        } else if (e.type === 'session_expired') {\n          console.log('Session Expired');\n          this.setState({sessionExpired: true});\n        }\n      }\n    );\n\n\n  }\n\n  getImageAndID(rawImageString){\n    console.log('Splitting string:')\n    const strLength = rawImageString.length;\n    console.log(`Raw string length: ${strLength}`)\n    const index = rawImageString.indexOf(\"@\");\n    console.log(`Found @ char in ${index}`);\n    const imID = rawImageString.substring(index+1,strLength);\n    const im = rawImageString.substring(0,index);\n    console.log('Split string.')\n    return [imID,im]\n  }\n\n  searchUserImages(examID){\n    console.log('In search user images');\n    let currentSessionID = localStorage.getItem('sid');\n    console.log(`Searching for exams with examid: ${examID}`)\n    const endpointURL = baseUrl + '/index.php?sid=' + currentSessionID + '&entryPoint=list_img&efp_id=' + examID;\n    genericGet(endpointURL, \n      (data)=> {\n        console.log(`Obtained images with examid ${examID}:`);\n        console.log(`Recieved ${data.rta.length} images.`);\n\n        //clear previous image data\n        console.log('Clearing image data');\n        for(let i = 0; i<6 ; i++){\n          console.log(`Clearing image ${i}`);\n          this.props.setImageInMainView(i,{});\n          console.log('Main view cleared');\n          this.props.selectImageRef.setImageToDefault(i);\n          console.log('Image ref cleared');\n        }\n\n        console.log('Iterating over data:')\n        for(let i = 0; i<data.rta.length; i++){\n          const imObject = data.rta[i];\n          console.log(imObject);\n          const [imID, image] = this.getImageAndID(imObject.imagen); \n          console.log(`Image # ${i} Image ID: ${imID} End of string ${image.substring(image.length-20, image.length)}`)\n          console.log('Setting image...')\n          const imageData = {\n            data: {\n              free: {\n                path: JSON.parse(imObject.traza.replace(/&quot;/g,`\"`)),\n                down: false\n              },\n              left: {\n                lineX: imObject.u_x_i || undefined,\n                point: {\n                  x: imObject.x_i || undefined,\n                  y: imObject.y_i || undefined\n                }\n              },\n              right: {\n                lineX: imObject.u_x_d || undefined,\n                point: {\n                  x: imObject.x_d || undefined,\n                  y: imObject.y_d || undefined\n                }\n              }\n            },\n            extra: {\n              leftAngle: imObject.angulo_i || undefined,\n              rightAngle: imObject.angulo_d || undefined\n            },\n            image:image\n          };\n\n          this.props.setImageInMainView(imID,imageData);\n          this.props.selectImageRef.updateImage(imID,image);\n          console.log('Image set succesfully');\n          \n        }\n        this.setState({ loading: false });\n        this.props.toggleModal();\n      }, \n      () => {}\n    )\n  }\n\n  searchUser() {\n    this.setState({ loading: true });\n    // session id\n    let currentSessionID = localStorage.getItem('sid');\n\n    // get patient info\n    genericGet(\n      baseUrl + '/index.php?sid=' + currentSessionID + '&entryPoint=obtener_paciente&cedula=' + this.state.userCedula,\n      (data) => {\n\n        if (data.rta.id == null) {\n          this.cedulaFound = false;\n        }\n        else {\n          // patient exists\n          console.log('Patient found: ', data)\n          let newPatient = {\n            name: data.rta.nombre + ' ' + data.rta.apellidos,\n            cedula: this.state.userCedula,\n            cellphone: data.rta.celular,\n            email: data.rta.email,\n            dob: data.rta.nacimiento,\n            sex: data.rta.genero,\n            //patient id in the db\n            pid: data.rta.id,\n            left: {},\n            right: {}\n          };\n\n          console.log('Getting exam id')\n          // get exam with shoe size, type of foot, etc. \n          this.searchUserExam(newPatient.pid, currentSessionID, newPatient);\n          // get exam images\n        }\n\n      },\n      //TODO make snackbar\n      (e) => {\n        if (e.type === 'fetch') {\n          console.log('Failed to fetch');\n        } else if (e.type === 'session_expired') {\n          console.log('Session Expired');\n          this.setState({sessionExpired: true});\n        }\n      }\n    );\n\n  }\n\n  logOut() {\n    localStorage.setItem('sid', undefined);\n    this.props.logout();\n  }\n\n  onEnter(e) {\n    if (e.key === 'Enter') {\n      this.searchUser();\n    }\n  }\n\n  renderSearchCard(cedulaFound) {\n    return (\n      <Card>\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            Search user\n          </Typography>\n          <Grid container justify='center' alignItems='flex-end'>\n            <Grid item>\n              <TextField\n                id=\"username\"\n                label=\"Cédula\"\n                // className={classes.textField}\n                value={this.state.userCedula}\n                onChange={(x) => this.setState({ userCedula: x.target.value })}\n                autoFocus={true}\n                onKeyDown={this.onEnter.bind(this)}\n                type=\"number\"\n              // margin=\"auto\"\n              />\n\n            </Grid>\n            <Grid item>\n              <Button variant=\"contained\" color=\"primary\" onClick={this.searchUser}>\n                <SearchIcon />\n              </Button>\n            </Grid>\n            {!cedulaFound ?\n\n              <Grid item xs={12}>\n                <br />\n                <Typography component=\"h2\" color='error' align='center'>\n                  Cedula not found\n                </Typography>\n              </Grid>\n              :\n              <br />\n            }\n\n          </Grid>\n        </CardContent>\n\n        <CardActions >\n          <Button size=\"small\" color=\"secondary\" onClick={this.props.toggleModal}>\n            Cancel\n          </Button>\n        </CardActions>\n      </Card>);\n  }\n\n  renderLoading() {\n    return (\n      <Card className='waitingCard'>\n        <Grid className='gridWaiting'\n          container\n          spacing={4}\n          direction=\"column\"\n          alignItems=\"center\"\n          justify=\"space-around\" >\n          <Grid item xs={12}>\n            <br />\n            <Typography variant=\"h5\" component=\"h2\" align='center'>\n              Searching user...\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <CircularProgress />\n          </Grid>\n        </Grid>\n        <br />\n      </Card >\n    );\n  }\n\n  renderLogout(){\n    return (\n      <Card className='waitingCard'>\n        <Grid className='gridWaiting'\n          container\n          spacing={4}\n          direction=\"column\"\n          alignItems=\"center\"\n          justify=\"space-around\" >\n          <Grid item xs={12}>\n            <br />\n            <Typography variant=\"h5\" component=\"h2\" align='center'>\n              Your session has expired.\n              <br/> \n              Please login again.\n            </Typography>\n          </Grid>\n        <CardActions >\n          <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={()=>this.logOut()}>\n            Log out\n          </Button>\n        </CardActions>\n        </Grid>\n        <br />\n      </Card > \n    )\n  }\n\n  render() {\n    let renderedComponent;\n    if(this.state.sessionExpired){\n      renderedComponent = this.renderLogout();\n    }\n    else{\n      if(!this.state.loading){\n        renderedComponent = this.renderSearchCard(this.cedulaFound);\n      }\n      else{\n        renderedComponent = this.renderLoading();\n      }\n    }\n\n    return (\n      <div>\n        {renderedComponent}\n      </div>\n    );\n  }\n}\n\nSearchUser.propTypes = {\n  toggleModal: PropTypes.func,\n  setUser: PropTypes.func,\n  setFeetInfo: PropTypes.func,\n  // shoeRef: PropTypes.any,\n  obsRefReal: PropTypes.any,\n  setShoeSize: PropTypes.func\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nexport default class LoadingCard extends Component {\n\n    render (){\n        return (\n            <div>\n                <Card className='waitingCard'>\n                  <Grid className='gridWaiting'\n                    container\n                    spacing={4}\n                    direction=\"column\"\n                    alignItems=\"center\"\n                    justify=\"space-around\" >\n                    <Grid item xs={12}>\n                      <br />\n                      <Typography variant=\"h5\" component=\"h2\" align='center'>\n                        {this.props.renderText}\n                      </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                      <CircularProgress />\n                    </Grid>\n                  </Grid>\n                  <br />\n                </Card >\n            </div>\n        )\n    }\n}\n\nLoadingCard.propTypes = {\n    renderText : PropTypes.string,\n}","import React, { Component } from 'react';\nimport { Grid } from '@material-ui/core';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n// import FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { Typography } from '@material-ui/core';\nimport './Drops.css';\nimport PropTypes from 'prop-types';\n\n\nexport default class Drops extends Component {\n\n  constructor(props) {\n    super(props);\n    this.drops = {\n      footprintType: [\n        ['SUPINADO_1', 'Supinado 1'],\n        ['SUPINADO_2', 'Supinado 2'],\n        ['SUPINADO_3', 'Supinado 3'],\n        ['NEUTRO', 'Neutro'],\n        ['PRONADO_1', 'Pronado 1'],\n        ['PRONADO_2', 'Pronado 2'],\n        ['PRONADO_3', 'Pronado 3'],\n      ],\n      footType: [\n        ['PLANO_1', 'Plano 1'],\n        ['PLANO_2', 'Plano 2'],\n        ['PLANO_3', 'Plano 3'],\n        ['NEUTRO', 'Neutro'],\n        ['CAVO_1', 'Cavo 1'],\n        ['CAVO_2', 'Cavo 2'],\n        ['CAVO_3', 'Cavo 3'],\n      ],\n      heelType: [\n        ['VALGO', 'Valgo'],\n        ['NEUTRO', 'Neutro'],\n        ['VARO', 'Varo']\n      ]\n    };\n  }\n\n  setFeetInfo(side, attr, value) {\n    const nValue = { ...this.props.feetInfo };\n    nValue[side][attr] = value;\n    this.props.setFeetInfo(nValue);\n  }\n\n  makeDropdown(title, side, attr, options) {\n    return (\n      <Grid item xs={3} className='dropDown'>\n        <FormControl className='dropDown'>\n          <InputLabel>{title}</InputLabel>\n          <Select\n            value={this.props.feetInfo[side][attr]}\n            onChange={(e) => this.setFeetInfo(side, attr, e.target.value)}>\n            {options.map((e, i) => (\n              <MenuItem key={`${attr}_${side}_${i}`} value={e[0]}>{e[1]}</MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n    );\n  }\n\n  render() {\n    return (\n      <Grid container spacing={2} alignItems='center'>\n        <br />\n        <Grid item xs={2}>\n          <Typography variant='subtitle1'> Left</Typography>\n        </Grid>\n        {this.makeDropdown('Footprint type', 'left', 'footprintType', this.drops.footprintType)}\n        {this.makeDropdown('Foot type', 'left', 'footType', this.drops.footType)}\n        {this.makeDropdown('Heel type', 'left', 'heelType', this.drops.heelType)}\n        <Grid item xs={2}>\n          <Typography variant='subtitle1'> Right</Typography>\n        </Grid>\n        {this.makeDropdown('Footprint type', 'right', 'footprintType', this.drops.footprintType)}\n        {this.makeDropdown('Foot type', 'right', 'footType', this.drops.footType)}\n        {this.makeDropdown('Heel type', 'right', 'heelType', this.drops.heelType)}\n      </Grid>\n    );\n  }\n}\n\nDrops.propTypes = {\n  feetInfo: PropTypes.object.isRequired,\n  setFeetInfo: PropTypes.func.isRequired\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport TextField from '@material-ui/core/TextField';\n\nexport default class MyObservations extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { obs: '' };\n  }\n\n  resetInfo(userObs = '') {\n    this.setState({ obs: userObs });\n  }\n\n  setObservation(newobs){\n    this.setState({obs:newobs});\n  }\n\n  \n\n  render() {\n    return (\n      <form\n        // className={classes.container} \n        noValidate\n        autoComplete=\"off\">\n        <TextField\n          id=\"observations\"\n          label=\"Observations\"\n          // className={classes.textField}\n          value={this.state.obs}\n          onChange={(e) => this.setState({ obs: e.target.value })}\n          margin=\"normal\"\n          fullWidth={true}\n          multiline={true}\n          rows={3}\n          variant='filled'\n          inputRef={this.props.obsRef}\n        />\n      </form>\n    );\n  }\n}\n\nMyObservations.propTypes = {\n  obsRef: PropTypes.any\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './ImageModal.css';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\nimport InfoImage from '../../assets/plantilla-podoscopio.jpg';\n\nexport default class ImageModal extends Component {\n  render() {\n    return (\n      <Card>\n        <CardContent>\n          <Grid className='gridWaiting'\n            container\n            spacing={4}\n            direction=\"column\"\n            alignItems=\"center\"\n            justify=\"space-around\" >\n            <Grid item xs={12}>\n              <img src={InfoImage} className='infoImage' alt=\"Ppodoscope Info\" />\n            </Grid>\n            <Grid item xs={12}>\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                onClick={this.props.toggleModal}>\n                OK\n              </Button>\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\n\nImageModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Drawer, ListItem, ListItemText, ListItemIcon, Typography, TextField, Fab } from '@material-ui/core';\nimport { Settings as SettingIcon, ExitToApp as ExitToAppIcon, ArrowBack } from '@material-ui/icons';\nimport './Menu.css';\n\nexport default class Menu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.toggleDrawer = this.toggleDrawer.bind(this);\n    this.state = {\n      open: false\n    };\n  }\n\n  toggleDrawer(open) {\n    return event => {\n      if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n        return;\n      }\n      this.setState({ open });\n    };\n  }\n\n  logOut() {\n    localStorage.setItem('sid', undefined);\n    this.toggleDrawer(false);\n    this.props.logout();\n  }\n\n  render() {\n    return (\n      <>\n        <Fab\n          id=\"open-draw\"\n          color=\"primary\"\n          aria-label=\"add\"\n          className=\"fab\"\n          onClick={this.toggleDrawer(true)}>\n          <SettingIcon />\n        </Fab>\n        <Drawer open={this.state.open} onClose={this.toggleDrawer(false)}>\n          <Button onClick={this.toggleDrawer(false)} color=\"secondary\" id=\"draw-back\">\n            <ArrowBack />\n          </Button>\n          <div\n            role=\"presentation\">\n            <div>\n              <Typography align=\"center\" gutterBottom={true} id=\"threshold-title\">\n                Threshold\n              </Typography>\n              <div id=\"menu-threshold-sett\">\n                <TextField\n                  required\n                  id=\"outlined-required\"\n                  label=\"Both sides\"\n                  value={this.props.threshold.value}\n                  variant=\"outlined\"\n                  type=\"number\"\n                  onChange={e => {\n                    this.props.setThreshold(e.target.value);\n                    +e.target.value === 0 && e.target.select();\n                  }}\n                  onFocus={e => e.target.select()}\n                />\n              </div>\n            </div>\n            <ListItem\n              button\n              id=\"logout-btn\"\n              onClick={() => this.logOut()}>\n              <ListItemIcon>\n                <ExitToAppIcon />\n              </ListItemIcon>\n              <ListItemText primary={'Log out'} />\n            </ListItem>\n          </div>\n        </Drawer>\n      </>\n    );\n  }\n}\n\nMenu.propTypes = {\n  logout: PropTypes.func.isRequired,\n  threshold: PropTypes.object.isRequired,\n  setThreshold: PropTypes.func.isRequired\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './MainView.css';\n\nimport Grid from '@material-ui/core/Grid';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Fab from '@material-ui/core/Fab';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InfoIcon from '@material-ui/icons/Info';\n\n\nimport UserCard from './UserInfo/UserCard';\nimport ImageSelection from './UserInfo/ImageSelection';\nimport CamCanvas from './Cam/CamCanvas';\nimport SearchUser from './SearchUser';\nimport LoadingCard from './LoadingCard';\nimport Drops from './UserInfo/Drops/Drops';\nimport MyObservations from './UserInfo/MyObservations';\nimport ImageModal from './ImageModal/ImageModal';\nimport DialogContent from '@material-ui/core/DialogContent';\n\n\nimport { postPodImage } from '../utils/requestsManager';\nimport Menu from './Menu/Menu';\n\n\nexport default class MainView extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.canvasRef = React.createRef();\n    this.imageselRef = React.createRef();\n    this.obsRef = React.createRef();\n    this.obsRefReal = React.createRef();\n    this.shoeRef = React.createRef();\n    this.dropsRef = React.createRef();\n\n    this.state = {\n      open: false,\n      openImage: false,\n      savingImage: false,\n      user: {\n        name: '-',\n        cedula: '-',\n        cellphone: '-',\n        email: '-',\n        dob: '-',\n        sex: '-',\n        left: {},\n        right: {}\n      },\n      feet: {\n        left: {\n          footprintType: 'NEUTRO',\n          heelType: 'NEUTRO',\n          footType: 'NEUTRO'\n        },\n        right: {\n          footprintType: 'NEUTRO',\n          heelType: 'NEUTRO',\n          footType: 'NEUTRO'\n        }\n      },\n      shoeSize: 40,\n      threshold: (() => {\n        const th = localStorage.getItem('threshold');\n        if (th && th !== 'undefined') {\n          return JSON.parse(th);\n        } else {\n          const nth = { value: 15 };\n          localStorage.setItem('threshold', JSON.stringify(nth));\n          return nth;\n        }\n      })()\n    };\n    this.toggleModal = this.toggleModal.bind(this);\n    this.toogleImageModal = this.toogleImageModal.bind(this);\n    this.savePhoto = this.savePhoto.bind(this);\n    this.selectImage = this.selectImage.bind(this);\n    this.setUser = this.setUser.bind(this);\n    this.setFeetInfo = this.setFeetInfo.bind(this);\n    this.setShoeSize = this.setShoeSize.bind(this);\n    this.setThreshold = this.setThreshold.bind(this);\n    this.setImageInMainView = this.setImageInMainView.bind(this);\n\n    this.imageIndex = -1;\n    this.images = [{}, {}, {}, {}, {}, {}];\n    this.observations = '--';\n  }\n\n  setImageInMainView(imIndex, imageData){\n    this.images[imIndex] = imageData;\n  }\n  setShoeSize(newShoeSize) {\n    this.setState({ shoeSize: newShoeSize });\n  }\n\n  setFeetInfo(data) {\n    this.setState({ feet: data });\n  }\n\n  toogleImageModal() {\n    this.setState(prevState => ({ openImage: !prevState.openImage }));\n  }\n\n  selectImage(index) {\n    console.log('Selecting image...');\n    console.log('Images in main veiw:');\n    console.log(this.images);\n\n    this.imageIndex = index;\n    this.canvasRef.setImg(this.images[this.imageIndex]);\n  }\n\n  toggleModal() {\n    console.log('Toggling modal');\n    this.setState((prevState) => ({ open: !prevState.open }));\n  }\n\n  setUser(newUser) {\n    this.setState(\n      {\n        user: newUser,\n        feet: {\n          left: {\n            footprintType: 'NEUTRO',\n            heelType: 'NEUTRO',\n            footType: 'NEUTRO'\n          },\n          right: {\n            footprintType: 'NEUTRO',\n            heelType: 'NEUTRO',\n            footType: 'NEUTRO'\n          }\n        }\n      },\n      () => {\n        this.canvasRef.resetInfo();\n        this.obsRefReal.resetInfo('');\n      });\n  }\n\n  savePhoto(data) {\n    if (this.imageIndex >= 0) {\n      this.setState({savingImage:true})\n      this.images[this.imageIndex] = data;\n      this.imageselRef.updateImage(this.imageIndex, data.image);\n\n\n      // this unifies 2 objects into 1 object\n      postPodImage(Object.assign(\n        this.state,\n        {\n          imgData: data,\n          observations: this.obsRef.current,\n          shoeSize: this.state.shoeSize,\n          imId: this.imageIndex\n        }), \n        () => {}, () => {},\n        () => { \n          this.setState({savingImage:false})\n        }, \n        () => { \n          console.log('COULD NOT SAVE IMAGE')\n          this.setState({savingImage:false})\n        });\n\n    }\n  }\n\n  setThreshold(value) {\n    this.setState((prev) => {\n      prev.threshold.value = +value;\n      return prev;\n    }, () => localStorage.setItem('threshold', JSON.stringify(this.state.threshold)));\n  }\n\n  render() {\n    return (\n      // try justify center and space around\n      <div className='mainViewDiv'>\n        <Menu logout={this.props.logout} threshold={this.state.threshold} setThreshold={this.setThreshold} />\n        <Grid container spacing={0} justify='space-around' >\n          <Grid item xs={4} >\n            <Grid container\n              spacing={0}\n              direction=\"column\"\n              alignItems=\"center\"\n              justify=\"center\">\n              <Grid item xs={12}>\n                <UserCard user={this.state.user} setShoeSize={this.setShoeSize} shoeSize={this.state.shoeSize} />\n              </Grid>\n              <br />\n              <Grid item xs={12}>\n                <ImageSelection selectImage={this.selectImage} ref={r => this.imageselRef = r} />\n              </Grid>\n              <br />\n              <Grid item xs={12}>\n                <Drops feetInfo={this.state.feet} setFeetInfo={this.setFeetInfo} ref={r => this.dropsRef = r} />\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={5}>\n            <CamCanvas \n              threshold={this.state.threshold} \n              savePhoto={this.savePhoto} \n              ref={r => this.canvasRef = r} \n              patientCedula={this.state.user.cedula} />\n            <MyObservations obsRef={this.obsRef} ref={r => this.obsRefReal = r} />\n          </Grid>\n        </Grid>\n        <Fab\n          color=\"primary\"\n          aria-label=\"add\"\n          className=\"fab\"\n          onClick={() => this.setState({ open: true })}>\n          <SearchIcon />\n        </Fab>\n\n        <Modal\n          aria-labelledby=\"transition-modal-title\"\n          aria-describedby=\"transition-modal-description\"\n          className=\"modal\"\n          open={this.state.open}\n          onClose={() => this.setState({ open: true })}\n          closeAfterTransition\n          disableEnforceFocus\n          disableAutoFocus\n          BackdropComponent={Backdrop}\n          BackdropProps={{ timeout: 200 }}>\n          <DialogContent>\n            \n            <Fade\n              in={this.state.open}\n              className='modalContent'>\n              <SearchUser\n                toggleModal={this.toggleModal}\n                setUser={this.setUser}\n                setFeetInfo={this.setFeetInfo}\n                obsRefReal={this.obsRefReal}\n                setShoeSize={this.setShoeSize}\n                selectImageRef={this.imageselRef}\n                setImageInMainView={this.setImageInMainView}\n                logout={this.props.logout}\n              />\n            </Fade>\n          </DialogContent>\n        </Modal>\n        <Modal\n          // aria-labelledby=\"transition-modal-title\"\n          // aria-describedby=\"transition-modal-description\"\n          className=\"modal\"\n          open={this.state.savingImage}\n          onClose={() => this.setState({ savingImage: true })}\n          closeAfterTransition\n          disableEnforceFocus\n          disableAutoFocus\n          BackdropComponent={Backdrop}\n          BackdropProps={{ timeout: 200 }}>\n          <DialogContent>\n            <Fade\n              in={this.state.savingImage}\n              className='modalContent'>\n              <LoadingCard renderText='Saving image...'/>\n            </Fade>\n          </DialogContent>\n        </Modal>\n\n        <Fab\n          color=\"primary\"\n          aria-label=\"info\"\n          className=\"fabImage\"\n          onClick={() => this.setState({ openImage: true })}>\n          <InfoIcon />\n        </Fab>\n        <Modal\n          aria-labelledby=\"transition-modal-title\"\n          aria-describedby=\"transition-modal-description\"\n          className=\"imageModal\"\n          open={this.state.openImage}\n          onClose={() => this.setState({ openImage: false })}\n          closeAfterTransition\n          disableEnforceFocus\n          disableAutoFocus\n          BackdropComponent={Backdrop}\n          BackdropProps={{ timeout: 200 }}>\n          <DialogContent>\n            <Fade\n              in={this.state.openImage}\n              className='imageModalContent'>\n              <ImageModal toggleModal={this.toogleImageModal} />\n            </Fade>\n          </DialogContent>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nMainView.propTypes = {\n  logout: PropTypes.func.isRequired\n};\n","import React, { Component } from 'react';\nimport './App.css';\nimport SignIn from './signIn/SignIn';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport MainView from './mainView/MainView';\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { authenticated: false };\n    this.setAuthenticated = this.setAuthenticated.bind(this);\n  }\n\n  setAuthenticated(auth) {\n    this.setState({ authenticated: auth }, () => {\n      console.log(auth ? 'authenticated!' : 'logout!');\n    });\n  }\n\n  render() {\n    return (\n      <Container width='100%' className='appContainer' >\n        <Grid\n          container\n          spacing={0}\n          direction=\"column\"\n          alignItems=\"center\"\n          justify=\"center\"\n          style={{ minHeight: '100vh' }}>\n          {this.state.authenticated\n            ? <MainView logout={() => this.setAuthenticated(false)} />\n            : <SignIn authTrue={this.setAuthenticated} />\n          }\n        </Grid>\n      </Container>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAJSUlEQVR4nO3cwWpTaRyH4f+EoiKuZBARFy68C29n7mIW5mKHwYWLIq6kFDf5UApDZdDzYd/ngZKUJqc/ziYvySEzAEDOH9//cj6fTzPzcmaeXH5eXP50mplXM3N15/nr8Y//4/inyzEe3bPj6nKcu8f/Px7NzJ8/8D9/tafz7fzB8s/M3Owe8Ru6mZkP49z9TJ9n5nqc059pndPb3UPucz6f319d7vw1M3/PzJuti+Dhe717wG/s7e4B8IC8P13uvBsv/gCQcbr/IQDAQyMAACBIAABAkAAAgCABAABBAgAAglYAPN26AgA41AoA31gHACE+AgCAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCVgBcbV0BABxqBcDLrSsAgEN5BwAAglwDAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBKwCebV0BABxqBcDzrSsAgEOd7twCAAFe+AEgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABC0AuB66woA4FArAD5tXQEAHGoFwO3WFQDAoVwDAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAglYAfNm6AgA41AqAf7euAAAO5SMAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQtALgdusKAOBQKwCut64AAA61AuDT1hUAwKFcAwAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIJWAHzZugIAONQKgI9bVwAAh1oBcLN1BQBwKNcAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAAACg4CuQVCF5dI3chQAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/logo_piesalud.b4e22e13.png\";"],"sourceRoot":""}